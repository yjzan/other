jQuery(function(a){var o=500,e=1e3;function r(){0<o--?setTimeout(t,e):(a(".woowechatpay-qr-error").text(WooWechatpay.expired_error).show(),a(".woowechatpay-qr-placeholder").show(),a("#woowechatpay_qr_code").hide())}function t(){var o={orderId:a("#woowechatpay_qr_code").data("oid"),action:"woowechatpay_payment_heartbeat",nonce:WooWechatpay.nonce};a.post(WooWechatpay.ajax_url,o,function(o){o.success?(a(".woowechatpay-qr-error").hide(),"paid"===o.data.status?location.href=o.data.message:"nPaid"===o.data.status&&r()):(a(".woowechatpay-qr-error").text(WooWechatpay.order_error).show(),a(".woowechatpay-qr-placeholder").show(),a("#woowechatpay_qr_code").hide())}).fail(function(){a(".woowechatpay-qr-error").text(WooWechatpay.default_error).show(),r()})}t()});